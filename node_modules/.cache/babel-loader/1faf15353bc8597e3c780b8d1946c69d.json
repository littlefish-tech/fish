{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yimeng/Documents/fish/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yimeng/Documents/fish/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/yimeng/Documents/fish/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yimeng/Documents/fish/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yimeng/Documents/fish/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yimeng/Documents/fish/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Icon,Input,Menu}from'semantic-ui-react';import Profile from'./Profile';import{bS}from'../BabyTalk';import{gS}from'../gSession';var TopHeader=/*#__PURE__*/function(_Component){_inherits(TopHeader,_Component);var _super=_createSuper(TopHeader);function TopHeader(){var _this;_classCallCheck(this,TopHeader);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={activeItem:\"\",showUpdate:false};return _this;}_createClass(TopHeader,[{key:\"handleItemClick\",value:function handleItemClick(rE,data){//console.log(rE);\n//console.log(data);\nthis.setState({activeItem:data.name});if(data.name==='logout'||data.name==='sign out'){this.handleLogout(rE);}}},{key:\"handleUpdate\",value:function handleUpdate(e){this.setState({showUpdate:true});}},{key:\"killUpdate\",value:function killUpdate(){this.setState({showUpdate:false});}},{key:\"handleLogout\",value:function(){var _handleLogout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return bS.post(\"/logOut\");case 3:data=_context.sent;gS.destroy();this.props.updateAppState(this.props.appKey,data);case 6:case\"end\":return _context.stop();}}},_callee,this);}));function handleLogout(_x){return _handleLogout.apply(this,arguments);}return handleLogout;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Menu,{inverted:true,size:\"tiny\",color:\"black\"},/*#__PURE__*/React.createElement(Menu.Menu,{position:\"right\"},/*#__PURE__*/React.createElement(Menu.Item,null,/*#__PURE__*/React.createElement(Input,{icon:\"search\",placeholder:\"Search...\"})),/*#__PURE__*/React.createElement(Menu.Item,{icon:\"edit\",name:this.props.curUser.name,active:this.state.activeItem==='account',onClick:this.handleUpdate.bind(this)}),/*#__PURE__*/React.createElement(Profile,{showUpdate:this.state.showUpdate,kill:this.killUpdate.bind(this),curUser:this.props.curUser,updateAppState:this.props.updateAppState,appKey:\"curUser\"}),/*#__PURE__*/React.createElement(Menu.Item,{icon:/*#__PURE__*/React.createElement(Icon,{name:\"sign out\",onClick:this.handleItemClick.bind(this)}),active:this.state.activeItem==='logout',onClick:this.handleItemClick.bind(this)}))));}}]);return TopHeader;}(Component);export{TopHeader as default};","map":{"version":3,"sources":["/Users/yimeng/Documents/fish/src/components/TopHeader.js"],"names":["React","Component","Icon","Input","Menu","Profile","bS","gS","TopHeader","state","activeItem","showUpdate","rE","data","setState","name","handleLogout","e","preventDefault","post","destroy","props","updateAppState","appKey","curUser","handleUpdate","bind","killUpdate","handleItemClick"],"mappings":"+1BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,IAAtB,KAAkC,mBAAlC,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAAQC,EAAR,KAAiB,aAAjB,CACA,OAAQC,EAAR,KAAiB,aAAjB,C,GAGqBC,CAAAA,S,uUACjBC,K,CAAQ,CACJC,UAAU,CAAE,EADR,CAEJC,UAAU,CAAE,KAFR,C,6FAKSC,E,CAAIC,I,CAAM,CAC9B;AACA;AACO,KAAKC,QAAL,CAAc,CAAEJ,UAAU,CAAEG,IAAI,CAACE,IAAnB,CAAd,EAEP,GAAIF,IAAI,CAACE,IAAL,GAAc,QAAd,EAA0BF,IAAI,CAACE,IAAL,GAAc,UAA5C,CAAuD,CACnD,KAAKC,YAAL,CAAkBJ,EAAlB,EACH,CAEG,C,kDACYK,C,CAAE,CACX,KAAKH,QAAL,CAAc,CAACH,UAAU,CAAE,IAAb,CAAd,EACH,C,+CAEW,CACR,KAAKG,QAAL,CAAc,CAACH,UAAU,CAAC,KAAZ,CAAd,EACH,C,kIAEkBM,C,2HACtBA,CAAC,CAACC,cAAF,G,sBAEuBZ,CAAAA,EAAE,CAACa,IAAH,CAAQ,SAAR,C,QAAbN,I,eACJN,EAAE,CAACa,OAAH,GACA,KAAKC,KAAL,CAAWC,cAAX,CAA0B,KAAKD,KAAL,CAAWE,MAArC,CAA6CV,IAA7C,E,kMAGM,CACZ,mBACI,4CACH,oBAAC,IAAD,EAAM,QAAQ,KAAd,CAAe,IAAI,CAAG,MAAtB,CAA6B,KAAK,CAAC,OAAnC,eACU,oBAAC,IAAD,CAAM,IAAN,EAAW,QAAQ,CAAC,OAApB,eACA,oBAAC,IAAD,CAAM,IAAN,mBACI,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,WAAW,CAAC,WAAjC,EADJ,CADA,cAKH,oBAAC,IAAD,CAAM,IAAN,EACF,IAAI,CAAC,MADH,CAEG,IAAI,CAAE,KAAKQ,KAAL,CAAWG,OAAX,CAAmBT,IAF5B,CAGO,MAAM,CAAE,KAAKN,KAAL,CAAWC,UAAX,GAA0B,SAHzC,CAIO,OAAO,CAAE,KAAKe,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAJhB,EALG,cAWA,oBAAC,OAAD,EAAS,UAAU,CAAE,KAAKjB,KAAL,CAAWE,UAAhC,CACA,IAAI,CAAE,KAAKgB,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CADN,CAEA,OAAO,CAAI,KAAKL,KAAL,CAAWG,OAFtB,CAGA,cAAc,CAAI,KAAKH,KAAL,CAAWC,cAH7B,CAG6C,MAAM,CAAI,SAHvD,EAXA,cAiBA,oBAAC,IAAD,CAAM,IAAN,EACF,IAAI,cAAE,oBAAC,IAAD,EAAM,IAAI,CAAC,UAAX,CAAuB,OAAO,CAAE,KAAKM,eAAL,CAAqBF,IAArB,CAA0B,IAA1B,CAAhC,EADJ,CAEE,MAAM,CAAE,KAAKjB,KAAL,CAAWC,UAAX,GAA0B,QAFpC,CAGI,OAAO,CAAE,KAAKkB,eAAL,CAAqBF,IAArB,CAA0B,IAA1B,CAHb,EAjBA,CADV,CADG,CADJ,CA6BI,C,uBA9DkCzB,S,SAAlBO,S","sourcesContent":["import React, { Component } from 'react'\nimport { Icon, Input, Menu } from 'semantic-ui-react'\nimport Profile from './Profile';\nimport {bS} from '../BabyTalk'\t\nimport {gS} from '../gSession'\n\n\nexport default class TopHeader extends Component {\n    state = { \n        activeItem: \"\",\n        showUpdate: false\n    }\n  \n    handleItemClick (rE, data) {\n\t//console.log(rE);\n\t//console.log(data);\n        this.setState({ activeItem: data.name })\n\n\tif (data.name === 'logout' || data.name === 'sign out'){\n\t    this.handleLogout(rE)\n\t}\n\t\n    }\n    handleUpdate(e){\n        this.setState({showUpdate: true})\n    }\n\n    killUpdate(){\n        this.setState({showUpdate:false})\n    }\n  \n   async handleLogout (e){\n\te.preventDefault()\n\t\n       var data = await bS.post(\"/logOut\")\n       gS.destroy()\n       this.props.updateAppState(this.props.appKey, data);\n    }\n\n    render() {\n\treturn (\n\t    <div>\n\t\t<Menu inverted size = 'tiny' color=\"black\">\n            <Menu.Menu position='right'>\n            <Menu.Item>\n                <Input icon='search' placeholder='Search...' />\n\t\t</Menu.Item>\n\n\t        <Menu.Item\n\t    \t\ticon='edit'\n            name={this.props.curUser.name}\n                active={this.state.activeItem === 'account'}\n                onClick={this.handleUpdate.bind(this)}\n            />\n            <Profile showUpdate={this.state.showUpdate}\n            kill={this.killUpdate.bind(this)}\n            curUser = {this.props.curUser}\n            updateAppState = {this.props.updateAppState} appKey = {\"curUser\"}\n            />\n\n            <Menu.Item\n     \t    icon={<Icon name=\"sign out\"  onClick={this.handleItemClick.bind(this)} />}\n              active={this.state.activeItem === 'logout'}\n                onClick={this.handleItemClick.bind(this)}\n            />\n            </Menu.Menu>\n            </Menu>\n\t  </div>\n      )\n    }\n  }\n"]},"metadata":{},"sourceType":"module"}